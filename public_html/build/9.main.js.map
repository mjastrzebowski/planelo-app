{"version":3,"sources":["../../src/pages/common/login/login.module.ts","../../src/pages/common/login/login.ts"],"names":["c","r","Object","defineProperty","target","key","CommonLoginModule","__decorate","__webpack_require__","i","__WEBPACK_IMPORTED_MODULE_0__angular_core__","declarations","__WEBPACK_IMPORTED_MODULE_2__login__","imports","__WEBPACK_IMPORTED_MODULE_3_app_components_components_module__","__WEBPACK_IMPORTED_MODULE_1_ionic_angular__","forChild","exports","LoginPage","nav","alertCtrl","utils","auth","clientStore","trainerStore","this","user","submitted","prototype","openResetPage","push","openRegisterPage","login","form","_this","valid","showLoading","value","then","postLogin","catch","errorLogin","logout","stopLoading","create","title","message","buttons","present","name","segment","template","__metadata","__WEBPACK_IMPORTED_MODULE_2_app_providers_utils__","__WEBPACK_IMPORTED_MODULE_3_app_services_auth_auth_service__","__WEBPACK_IMPORTED_MODULE_4_app_services_client_client_store__","__WEBPACK_IMPORTED_MODULE_5_app_services_trainer_trainer_store__"],"mappings":"0eAAyC,OAAAA,GAAA,GAAAC,GAAAC,OAAAC,eAAAC,EAAAC,EAAAJ,GAAAA,GAGLK,EAAA,WAEgC,QAAAA,MAcpE,MAAAA,KAAgCA,GAACC,GAAAC,EAAAC,EAAAC,EAAA,IAApBC,cAZZC,EAAA,GAEGC,SACDC,EAAA,EACQC,EAAA,EAAAC,SAAAJ,EAAA,IAEPK,SACDL,EAAA,MAGAN,+lBCjBuCY,EAAA,WACgC,QAAAA,GAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAE9BC,KAAAN,IAAAA,EAEiBM,KAAAL,UAAAA,EACEK,KAAAJ,MAAAA,EACGI,KAAAH,KAAAA,EAS5CG,KAAAF,YAAAA,EAIpBE,KAAAD,aAEUA,EADGC,KAAHC,QACAD,KAAAE,WAAA,EAwCJ,MAtCIT,GAAAU,UAAiBC,cAAA,WACjBJ,KAAAN,IAAWW,KAAX,UAGJZ,EAAUU,UAACG,iBAAA,WACVN,KAAAN,IAAYW,KAAK,aAGxBZ,EAAAU,UAAAI,MAAA,SAAAC,GACU,GAACC,GAAKT,IACfA,MAAAE,WAAA,EAEDM,EAAAE,QACWV,KAAKJ,MAAAe,YAAY,gBAC3BX,KAAAH,KAAAU,MAAAC,EAAAI,OAEDC,KAAK,WAAC,MAASJ,GAAAK,cAQdC,MAAA,WAAA,MAAAN,GAAAO,iBALGvB,EAAUU,UAACc,OAAY,WACnBjB,KAAKH,KAACoB,YAEFd,UAACW,UAAM,WAChBd,KAAAJ,MAAAsB,eAKFzB,EAAAU,UAAAa,WAAA,WAEOhB,KAAAJ,MAAAsB,cACDlB,KAAML,UAAWwB,QACtBC,MAAA,OACAC,QAAA,iCACDC,SAAA,QAEOC,WAED9B,OAEIX,GACPC,EAAeC,EAAAM,EAAA,IACdkC,KAAU,QACdC,QAAA,UACF1C,EAAAC,EAAAC,EAAA,IAAAyC,SAAA,42DA3DAC,EAAA,qBAAArC,EAAU,EACHA,EAAO,EACNsC,EAAS,EAChBC,EAAA,EACDC,EAAU,EACgBC,EAAA,KACzBtC","file":"/Users/mjastrzebowski/GitHub/egobody-david-2.0/public_html/build/9.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { LoginPage } from './login';\n\nimport { ComponentsModule } from 'app/components/components.module';\n\n@NgModule({\n  declarations: [\n    LoginPage\n  ],\n  imports: [\n    ComponentsModule,\n    IonicPageModule.forChild(LoginPage)\n  ],\n  exports: [\n    LoginPage\n  ]\n})\nexport class CommonLoginModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/common/login/login.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, AlertController, NavController } from 'ionic-angular';\n\nimport { Utils } from 'app/providers/utils';\n\nimport { AuthService } from 'app/services/auth/auth-service';\nimport { ClientStore } from 'app/services/client/client-store';\nimport { TrainerStore } from 'app/services/trainer/trainer-store';\n\n@IonicPage({\n  name: 'login',\n  segment: 'login'\n})\n@Component({\n  templateUrl: 'login.html'\n})\nexport class LoginPage {\n  user: any;\n  submitted: boolean;\n\n  constructor(\n    private nav: NavController,\n    private alertCtrl: AlertController,\n    private utils: Utils,\n    private auth: AuthService,\n    private clientStore: ClientStore,\n    private trainerStore: TrainerStore\n  ) {\n    this.user = {};\n    this.submitted = false;\n  }\n\n  openResetPage(): void {\n    this.nav.push('reset');\n  }\n\n  openRegisterPage(): void {\n    this.nav.push('register');\n  }\n\n  login(form: any): void {\n    this.submitted = true;\n    if (form.valid) {\n      this.utils.showLoading('Logowanie...');\n      this.auth.login(form.value)\n        .then(() => this.postLogin())\n        .catch(() => this.errorLogin());\n    }\n  }\n\n  logout(): void {\n    this.auth.logout();\n  }\n\n  private postLogin(): void {\n    this.utils.stopLoading();\n    // this.router.navigate(['/Workouts']);\n    // this.nav.setRoot(TrainingListPage);\n  }\n\n  private errorLogin(): void {\n    this.utils.stopLoading();\n    this.alertCtrl.create({\n      title: 'Błąd',\n      message: 'Nieprawidłowy login lub hasło.',\n      buttons: ['Ok']\n    }).present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/common/login/login.ts"]}