{"version":3,"sources":["../../src/pages/common/reset/reset.module.ts","../../src/pages/common/reset/reset.ts"],"names":["c","r","Object","defineProperty","target","key","CommonResetModule","__decorate","__webpack_require__","i","__WEBPACK_IMPORTED_MODULE_0__angular_core__","declarations","__WEBPACK_IMPORTED_MODULE_2__reset__","imports","__WEBPACK_IMPORTED_MODULE_3_app_components_components_module__","__WEBPACK_IMPORTED_MODULE_1_ionic_angular__","forChild","exports","ResetPage","nav","alertCtrl","utils","auth","clientStore","trainerStore","this","user","submitted","prototype","openLoginPage","push","reset","form","_this","valid","showLoading","value","then","postReset","catch","errorReset","stopLoading","create","title","message","buttons","present","name","segment","template","__metadata","__WEBPACK_IMPORTED_MODULE_2_app_providers_utils__","__WEBPACK_IMPORTED_MODULE_3_app_services_auth_auth_service__","__WEBPACK_IMPORTED_MODULE_4_app_services_client_client_store__","__WEBPACK_IMPORTED_MODULE_5_app_services_trainer_trainer_store__"],"mappings":"0eAAyC,OAAAA,GAAA,GAAAC,GAAAC,OAAAC,eAAAC,EAAAC,EAAAJ,GAAAA,GAGLK,EAAA,WAEgC,QAAAA,MAcpE,MAAAA,KAAgCA,GAACC,GAAAC,EAAAC,EAAAC,EAAA,IAApBC,cAZZC,EAAA,GAEGC,SACDC,EAAA,EACQC,EAAA,EAAAC,SAAAJ,EAAA,IAEPK,SACDL,EAAA,MAGAN,+lBCjBuCY,EAAA,WACgC,QAAAA,GAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAE9BC,KAAAN,IAAAA,EAEiBM,KAAAL,UAAAA,EACEK,KAAAJ,MAAAA,EACGI,KAAAH,KAAAA,EAS5CG,KAAAF,YAAAA,EAIpBE,KAAAD,aAEUA,EADGC,KAAHC,QACAD,KAAAE,WAAA,EAmCJ,MAjCIT,GAAAU,UAAiBC,cAAA,WACjBJ,KAAAN,IAAWW,KAAX,UAGJZ,EAAUU,UAACG,MAAA,SAAAC,GACV,GAAAC,GAAYR,IAClBA,MAAAE,WAAA,EAEDK,EAAAE,QACWT,KAAKJ,MAASc,YAAA,kBACxBV,KAAAH,KAAAS,MAAAC,EAAAI,OAEDC,KAAK,WAAC,MAASJ,GAAAK,cAQdC,MAAA,WAAA,MAAAN,GAAAO,iBALGtB,EAAUU,UAACU,UAAY,WACnBb,KAAKJ,MAAMoB,mBACRrB,UAACsB,QACLC,MAAM,UACVC,QAAA,8CACFC,SAAA,QAEOC,WAEF5B,EAAUU,UAAQY,WAAA,WACpBf,KAAOJ,MAAAoB,cACPhB,KAASL,UAAAsB,QACFC,MAAQ,OACLC,QAAC,uBACdC,SAAA,QAEOC,WAED5B,OAEIX,GACPC,EAAeC,EAAAM,EAAA,IACdgC,KAAU,QACdC,QAAA,UACFxC,EAAAC,EAAAC,EAAA,IAAAuC,SAAA,+pCAtDAC,EAAA,qBAAAnC,EAAU,EACHA,EAAO,EACNoC,EAAS,EAChBC,EAAA,EACDC,EAAU,EACgBC,EAAA,KACzBpC","file":"/Users/mjastrzebowski/GitHub/egobody-david-2.0/public_html/build/6.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { ResetPage } from './reset';\n\nimport { ComponentsModule } from 'app/components/components.module';\n\n@NgModule({\n  declarations: [\n    ResetPage\n  ],\n  imports: [\n    ComponentsModule,\n    IonicPageModule.forChild(ResetPage)\n  ],\n  exports: [\n    ResetPage\n  ]\n})\nexport class CommonResetModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/common/reset/reset.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, AlertController, NavController } from 'ionic-angular';\n\nimport { Utils } from 'app/providers/utils';\n\nimport { AuthService } from 'app/services/auth/auth-service';\nimport { ClientStore } from 'app/services/client/client-store';\nimport { TrainerStore } from 'app/services/trainer/trainer-store';\n\n@IonicPage({\n  name: 'reset',\n  segment: 'reset'\n})\n@Component({\n  templateUrl: 'reset.html'\n})\nexport class ResetPage {\n  user: any;\n  submitted: boolean;\n\n  constructor(\n    private nav: NavController,\n    private alertCtrl: AlertController,\n    private utils: Utils,\n    private auth: AuthService,\n    private clientStore: ClientStore,\n    private trainerStore: TrainerStore\n  ) {\n    this.user = {};\n    this.submitted = false;\n  }\n\n  openLoginPage(): void {\n    this.nav.push('login');\n  }\n\n  reset(form: any): void {\n    this.submitted = true;\n    if (form.valid) {\n      this.utils.showLoading('Resetowanie...');\n      this.auth.reset(form.value)\n        .then(() => this.postReset())\n        .catch(() => this.errorReset());\n    }\n  }\n\n  private postReset(): void {\n    this.utils.stopLoading();\n    this.alertCtrl.create({\n      title: 'Wysłano',\n      message: 'Instrukcje zostały wysłane na adres e-mail.',\n      buttons: ['Ok']\n    }).present();\n  }\n\n  private errorReset(): void {\n    this.utils.stopLoading();\n    this.alertCtrl.create({\n      title: 'Błąd',\n      message: 'Nieprawidłowy login.',\n      buttons: ['Ok']\n    }).present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/common/reset/reset.ts"]}