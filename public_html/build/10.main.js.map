{"version":3,"sources":["../../src/pages/common/import/import.module.ts","../../src/pages/common/import/import.ts"],"names":[],"mappings":"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","file":"10.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { ImportPage } from './import';\n\nimport { ComponentsModule } from 'app/components/components.module';\n\n@NgModule({\n  declarations: [\n    ImportPage\n  ],\n  imports: [\n    ComponentsModule,\n    IonicPageModule.forChild(ImportPage)\n  ],\n  exports: [\n    ImportPage\n  ]\n})\nexport class CommonImportModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/common/import/import.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, AlertController } from 'ionic-angular';\n\nimport { List } from 'immutable';\n\nimport { Utils } from 'app/providers/utils';\n\nimport { AuthService } from 'app/services/auth/auth-service';\n\nimport { ClientStore } from 'app/services/client/client-store';\nimport { NotificationStore } from 'app/services/notification/notification-store';\nimport { PlaceStore } from 'app/services/place/place-store';\nimport { TrainerStore } from 'app/services/trainer/trainer-store';\nimport { ProfileSessionStore } from 'app/services/profile-session/profile-session-store';\n\n@IonicPage({\n  name: 'import',\n  segment: 'import'\n})\n@Component({\n  templateUrl: 'import.html'\n})\nexport class ImportPage {\n  import: any;\n  submitted: boolean;\n  models = ['Notification'];\n  model = this.models[0];\n\n  constructor(\n    private alertCtrl: AlertController,\n    private auth: AuthService,\n    private clientStore: ClientStore,\n    private notificationStore: NotificationStore,\n    private placeStore: PlaceStore,\n    private trainerStore: TrainerStore,\n    private profileSessionStore: ProfileSessionStore\n  ) {\n    this.submitted = false;\n    this.import = {};\n  }\n\n  private resolveItemByKey(item, service) {\n    if (typeof item === 'object') {\n      return JSON.stringify(item);\n    }\n    return service.getItemByKey(item);\n  }\n\n  private getAdminId(key) {\n    switch (key) {\n      case '-KBN-b7GjsB6FS8Opmx0':\n      case '-KNSsNzm8WH_t_lwASAz': {\n        return 106;\n      }\n      case '-KBN-fYLnmIQ_6pSwnV6': {\n        return 11;\n      }\n      default: {\n        return 2;\n      }\n    }\n  }\n\n  private importNotificationItem(item) {\n    item.admin = this.getAdminId(item.owner);\n\n    switch (item.type) {\n      case 'clientAdded':\n\n        break;\n      case 'clientRemoved':\n        break;\n      case 'workoutAdded':\n        break;\n      case 'workoutRemoved':\n        break;\n      case 'workoutRejected':\n        break;\n    }\n    item.client = this.resolveItemByKey(item.client, this.clientStore);\n    item.workout = this.resolveItemByKey(item.workout, this.profileSessionStore);\n    this.notificationStore.create(item);\n  }\n\n  save(form): void {\n    this.submitted = true;\n    let data = Utils.objectToArray(JSON.parse(form.value.db));\n    console.log(this.model);\n\n    switch (this.model) {\n      case this.notificationStore.model:\n        data.forEach(item => {\n          this.importNotificationItem(item);\n        });\n        break;\n    }\n  }\n\n  private postChangePassword(): void {\n    let alert = this.alertCtrl.create({\n      title: 'Zmieniono',\n      message: 'Twoje hasło zostało zmienione.',\n      buttons: ['Ok']\n    });\n    alert.present();\n  }\n\n  private errorChangePassword(): void {\n    let alert = this.alertCtrl.create({\n      title: 'Błąd',\n      message: 'Obecne hasło jest nieprawidłowe.',\n      buttons: ['Ok']\n    });\n    alert.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/common/import/import.ts"],"sourceRoot":""}